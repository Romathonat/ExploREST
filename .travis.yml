language: node_js

node_js:
  - '6'

# échoue dès qu'une erreur intervient
matrix:
  fast_finish: true

# met en cache node_modules, à noter que dans ce genre d’utilisation pour des
# bibliothèques open source consommées via npm, il ne faudra pas oublier
# npm prune utilisé ci-après, histoire de ne pas lancer des tests avec
# des paquets encore en cache mais non présents dans le package.json
cache:
  directories:
    - node_modules

before_install:
  - npm prune

#we use travis to generate the build
script: ./scripts/travis_script.sh

#we deploy onto heroku
#the secure is the hash of the api key of the herokuapp
deploy:
  provider: heroku
  api_key:
    secure: "oNcCrajgJ+PVV/8bSolTEmxjcj2P81Wr4UCsRf9P3JSnUuBUUGPpNzrcpr0a/43VOyW72HLUmE/1WDLcDQjJiRp3n0CBsKurXM1TLClhV99JcTY0eja4S+lDgM0xj/hxXg6A+e+FCgfehb4kntzQNJ8xdF7qiTJ0YKjI8wM6Uh1dreGPOOgDekBfNH5q8CCKt0at/9aZ+hXmxhyIyqQWN+l/1GNhLA5swO4P7Bzr1hPkYfkjjzfYcg+iymL+jArXZnuh897MGYImR3LpwnvheNe36znSI5IgqcLG49YUcdNyDTzkFOyKaTwZ7KCrDoJXQw56iNnGP+YSZB+vZ4MQgzbvAuL3KsAJ21uTeIcQXUxovzTq+ToIATyAwa+i5nh7QA0l5pzfpkQ2lW/7kJLTRL41Qlio+fhdrVpupKtW7/aXbQOrUghVeN3BkcnedjoPbL5K+6eiN5S4uO3UKQAUA4yHI80vf9cNeVKUTifzl9x2bNEihqOVKa1/mvNljQbXXllVDQ0TxtLE0mkUZ9Jpu2WDuFlqc3+O/xmEf0pU7d7/L4dwhe/9nk5nwSyCWpwo4huU05NBCD9Wpogh5KjKKchExAAVk9tvQXywMdslT9uTOmjXv4IDSufnJfghb08BoPusp6hYsbEQ/4jweHc7j/Ihvfwep6V3+0tcC25DJ+k="
app: explorest
